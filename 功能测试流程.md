# 图书管理系统 - 完整功能测试流程

## 系统架构
- **后端**: Spring Boot (端口: 8080)
- **前端**: Vue.js + Vite (端口: 5173)
- **数据库**: MySQL

## 启动流程

### 1. 启动后端服务
```bash
# 在项目根目录
mvn spring-boot:run
```

### 2. 启动前端服务
```bash
# 在 LibraryManagementSys250702_frontend 目录
npm run dev
```

### 3. 访问系统
- 前端地址: http://localhost:5173
- 后端API: http://localhost:8080/api

## 测试账户

| 用户名 | 密码 | 角色 | 描述 |
|--------|------|------|------|
| admin | admin123 | 管理员 | 系统管理员，可管理用户、书籍等 |
| customer1 | 123456 | 客户 | 普通客户，可借书、还书 |
| customer2 | 123456 | 客户 | 普通客户，可借书、还书 |

## 完整功能测试

### 管理员功能测试

#### 1. 管理员登录
1. 访问 http://localhost:5173
2. 输入用户名: `admin`，密码: `admin123`
3. 点击登录，应该跳转到管理员仪表板

#### 2. 用户管理 (/admin/users)
- 查看用户列表
- 添加新用户
- 编辑用户信息
- 删除用户
- 用户状态管理（启用/禁用）

#### 3. 书籍管理 (/admin/books)
- 查看书籍列表
- 添加新书籍
- 编辑书籍信息
- 删除书籍
- 书籍分类管理
- 批量导入书籍

#### 4. 借阅记录管理 (/admin/records)
- 查看所有借阅记录
- 管理逾期记录
- 处理还书请求
- 罚款管理

#### 5. 收费标准管理 (/admin/fees)
- 设置借阅费用
- 设置罚款标准
- 管理会员费用

#### 6. 统计报表 (/admin/statistics)
- 用户统计
- 借阅统计
- 收入统计
- 图表展示

### 客户功能测试

#### 1. 客户登录
1. 退出管理员账户
2. 输入用户名: `customer1`，密码: `123456`
3. 点击登录，应该跳转到客户仪表板

#### 2. 图书搜索 (/customer/books)
- 按书名搜索
- 按作者搜索
- 按分类搜索
- 查看书籍详情
- 借阅操作

#### 3. 借阅历史 (/customer/history)
- 查看当前借阅
- 查看历史记录
- 续借操作
- 还书操作

#### 4. 个人信息 (/customer/profile)
- 查看个人信息
- 修改个人资料
- 修改密码
- 账户充值

#### 5. 个人统计 (/customer/dashboard)
- 借阅统计
- 费用统计
- 推荐图书

### 通用功能测试

#### 1. 用户注册
1. 在登录页面点击"立即注册"
2. 填写注册信息
3. 提交注册
4. 使用新账户登录

#### 2. 响应式设计测试
- 在不同设备尺寸下测试界面
- 移动端适配测试

#### 3. 权限测试
- 客户尝试访问管理员页面（应被拦截）
- 未登录用户访问受保护页面（应跳转登录）

## API测试

### 使用Postman或curl测试API

#### 1. 登录API
```bash
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

#### 2. 获取用户列表（需要token）
```bash
curl -X GET http://localhost:8080/api/admin/users \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## 问题排查

### 登录问题
1. 检查后端服务是否启动（端口8080）
2. 检查前端服务是否启动（端口5173）
3. 检查浏览器控制台是否有错误
4. 检查网络请求是否成功（F12 -> Network）

### 界面不跳转
1. 检查浏览器控制台错误
2. 确认token是否正确保存到localStorage
3. 检查路由配置是否正确

### 数据库连接问题
1. 确认MySQL服务运行
2. 检查数据库连接配置
3. 确认数据库表是否存在

## 技术栈说明

### 前端技术
- Vue 3 + Composition API
- Vue Router 4
- Pinia (状态管理)
- Tailwind CSS (样式)
- Axios (HTTP请求)

### 后端技术
- Spring Boot 3
- Spring Security
- MyBatis Plus
- JWT认证
- MySQL数据库

## 开发注意事项

1. **CORS配置**: 后端已配置允许前端跨域请求
2. **JWT过期**: Token有效期24小时，过期需重新登录
3. **数据格式**: 所有API返回统一的Result格式
4. **错误处理**: 前后端都有完整的错误处理机制

## 部署说明

### 开发环境
- 前端: `npm run dev`
- 后端: `mvn spring-boot:run`

### 生产环境
- 前端: `npm run build` 然后部署dist目录
- 后端: `mvn package` 然后运行jar包 